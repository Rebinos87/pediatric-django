{% extends 'base.html' %}

{% block title %}Upload Document{% endblock %}

{% block content %}
<h4 class="mb-3">Upload Document - {{ patient.patient_name }}</h4>

<div class="card" style="max-width: 600px;">
  <div class="card-body">
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      
      <div class="mb-3">
        <label class="form-label">Document Type *</label>
        <select name="document_type" class="form-select" required>
          <option value="">Select type...</option>
          {% for value, label in doc_types %}
            <option value="{{ value }}">{{ label }}</option>
          {% endfor %}
        </select>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Title *</label>
        <input type="text" name="title" class="form-control" required>
      </div>
      
      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea name="description" rows="3" class="form-control" placeholder="Add notes about this document..."></textarea>
      </div>
      
      <div class="mb-3">
        <label class="form-label">File *</label>
        <input type="file" name="file" class="form-control" required accept=".pdf,.jpg,.jpeg,.png,.gif,.doc,.docx">
        <small class="text-muted">Supported: PDF, Images (JPG, PNG), Documents</small>
      </div>
      
      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Upload Document</button>
        <a href="{% url 'patient_documents' patient.pk %}" class="btn btn-outline-secondary">Cancel</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
